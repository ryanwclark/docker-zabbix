FROM ryanwclark/alpine:edge
LABEL maintainer="Ryan Clark (ryanwclark@yahoo.com)"

### Set Defaults
ENV ENABLE_SMTP=false

### Add Build Dependencies
RUN set -x && \
    apk update && \
    apk upgrade && \
    apk add iputils \
            nmap \
            openssl \
            postgresql-client \
            python3 \
            py3-openssl \
            py3-pip \
            py3-requests \
            whois \
            zabbix-pgsql \
            && \
    mkdir -p /var/lib/zabbix && \
    chown -R zabbix:zabbix /var/lib/zabbix && \
    \
    rm -rf /var/cache/apk/*

ADD install /
